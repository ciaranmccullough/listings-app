(this["webpackJsonplistings-app"]=this["webpackJsonplistings-app"]||[]).push([[0],{110:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(10),l=t.n(r),i=t(157),s=t(156),c=(t(91),t(78)),m=t(12),d=t(111),u=t(141),p=t(143),h=t(144),g=t(145),f=t(146),b=t(147);function v(e){return e[Math.floor(Math.random()*e.length)]}var y=Object(d.a)({title:{textAlign:"center",padding:"20px"},venueSelector:{display:"flex",flexDirection:"column",justifyContent:"center",margin:"20px"},typography:{marginBottom:"20px",margin:"0 auto"},input:{width:"400px",marginBottom:"20px",margin:"0 auto",textAlign:"center"},button:{width:"200px",margin:"0 auto"}}),E=function(e){var a=Object(n.useRef)(),t=y();return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{position:"static"},o.a.createElement(p.a,{variant:"h1",className:t.title},"Listings App")),o.a.createElement("form",{className:t.venueSelector},o.a.createElement(p.a,{className:t.typography,variant:"h3"},"Please Enter A Venue"),o.a.createElement(h.a,null,o.a.createElement(g.a,{className:t.input,type:"text",inputRef:a,required:!0,placeholder:"Venue Name",defaultValue:"".concat(v(["London","Birmingham","Leeds","Glasgow","Sheffield","Bradford","Edinburgh","Liverpool","Manchester","Bristol","Wakefield","Cardiff","Coventry","Nottingham","Leicester","Sunderland","Belfast","Newcastle upon Tyne","Brighton","Hull"]),"-").concat(v(["Arena","Roundhouse","Hall","Apollo","Theatre","House","Coliseum","Opera House","Hippodrome","Club","Arches","Rooms","Exchange","Forum","Mills","Union","Pavilion","Arts Centre","Gardens","Academy"]))})),o.a.createElement(f.a,{variant:"contained",className:t.button,endIcon:o.a.createElement(b.a,null,"send"),type:"submit",onClick:function(t){t.preventDefault();var n=a.current.value;e.history.push("/venue/".concat(n))}},"Visit Venue")))},x=t(54),w=t(20),k=t(29),j=t(149),O=function(e){return o.a.createElement("header",{className:"top"},o.a.createElement(p.a,{color:"secondary",variant:"h2",gutterBottom:!0},"Listings App",o.a.createElement("span",{role:"img","aria-label":"guitar"},"\ud83c\udfb8")))},B=t(80),N=t(148),C=t(75),S=t.n(C),A=t(74),R=t.n(A),I=Object(d.a)({listings:{textAlign:"center",padding:"20px"},root:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"10px"},list:{padding:"0"},heading:{color:"white",marginBottom:"20px"},name:{margin:"0",padding:"10px"}});function D(e){var a=I(),t=R()().format("MMMM Do, h:mm a"),n=Object.keys(e.listing);return o.a.createElement("div",{className:a.listings},o.a.createElement(p.a,{className:a.heading,variant:"h2",gutterBottom:!0},"Listings!"),o.a.createElement("ul",{className:a.list},n.map((function(n){var r=e.bands[n];return r?r&&"available"===r.status?o.a.createElement(B.a,{elevation:3,className:a.root,key:n},o.a.createElement("span",{className:a.span},o.a.createElement(p.a,{className:a.name,variant:"h6",gutterBottom:!0},r.name,"-",t)),o.a.createElement("span",null,o.a.createElement(N.a,{variant:"contained",color:"secondary",type:"button",onClick:function(){return e.removeFromListing(n)}},o.a.createElement(S.a,{className:a.rightIcon})))):o.a.createElement(p.a,{variant:"h6",gutterBottom:!0},"Sorry ",r?r.name:"band"," is not available"," "):null}))))}var L=t(159),T=t(162),F=t(160),M=Object(j.a)({bandForm:{display:"flex",flexDirection:"column"},formControl:{marginBottom:"10px"}}),P=function(e){var a=Object(n.useRef)(null),t=Object(n.useRef)(null),r=Object(n.useRef)(null),l=Object(n.useRef)(null),i=M();return o.a.createElement("form",{className:i.bandForm,onSubmit:function(n){n.preventDefault();var o={name:a.current.value,status:t.current.value,desc:r.current.value,image:l.current.value};n.currentTarget.reset(),e.addBand(o)}},o.a.createElement(h.a,{className:i.formControl},o.a.createElement(g.a,{name:"name",inputRef:a,type:"text",placeholder:"Name"})),o.a.createElement(h.a,{className:i.formControl},o.a.createElement(L.a,{name:"status",inputRef:t},o.a.createElement(T.a,{value:"available"},"Ready!"),o.a.createElement(T.a,{value:"unavailable"},"Sold Out!"))),o.a.createElement(F.a,{name:"desc",inputRef:r,placeholder:"Desc"}),o.a.createElement(h.a,{className:i.formControl},o.a.createElement(g.a,{name:"image",inputRef:l,type:"text",placeholder:"Image(url)"})),o.a.createElement(f.a,{className:i.formControl,variant:"contained",color:"primary",type:"submit"},"Add Band"))},W=t(55),_=t.n(W),H=t(76),J=t.n(H),q=t(77),V=t.n(q),z=J.a.initializeApp({apiKey:"AIzaSyCFZq4pFPtNxXsWI6b_qQ9yrRuwi5cwHhc",authDomain:"listings-app-68e47.firebaseapp.com",databaseURL:"https://listings-app-68e47.firebaseio.com"}),G=V.a.createClass(z.database()),Q=Object(d.a)({bandEdit:{display:"flex",flexDirection:"column",textAlign:"center",margin:"20px 10px",padding:"20px"},formControl:{marginBottom:"10px"}}),U=function(e){var a=Object(n.useState)(Object(w.a)({},e.band)),t=Object(k.a)(a,2),r=t[0],l=t[1],i=Q(),s=function(a){var t=a.target,n=t.value,o=t.name;l((function(a){var t,r,l=Object(w.a)({},a);return console.log("copy",l),l[o]="price"===o?parseFloat(n):n,t=e.index,r=l,e.setBands((function(e){var a=Object(w.a)({},e);return a[t]=r,a})),l}))};return o.a.createElement(B.a,{elevation:3,className:i.bandEdit},o.a.createElement(h.a,null,o.a.createElement(g.a,{className:i.formControl,name:"name",onChange:s,type:"text",value:r.name})),o.a.createElement(h.a,null,o.a.createElement(L.a,{className:i.formControl,name:"status",onChange:s,type:"text",value:r.status},o.a.createElement(T.a,{value:"available"},"Ready!"),o.a.createElement(T.a,{value:"unavailable"},"Sold Out!"))),o.a.createElement(F.a,{className:i.formControl,name:"desc",onChange:s,value:r.desc}),o.a.createElement(h.a,{className:i.formControl},o.a.createElement("input",{name:"image",onChange:s,type:"text",value:r.image})),o.a.createElement(f.a,{className:i.formControl,onClick:function(){e.setBands((function(a){var t=Object(w.a)({},a);return delete t[e.index],t}))},type:"button",variant:"contained",color:"secondary",startIcon:o.a.createElement(_.a,null)},"Remove Band"))},Y=Object(d.a)({bookings:{textAlign:"center",padding:"20px",color:"white"},addBand:{padding:"20px"}}),Z=function(e){var a=e.bands,t=e.addBand,n=e.setBands,r=e.loadSampleBands,l=Y();return o.a.createElement("div",{className:l.bookings},o.a.createElement(p.a,{variant:"h2",gutterBottom:!0},"Bookings"),Object.entries(a).map((function(e){var a=Object(k.a)(e,2),t=a[0],r=a[1];return o.a.createElement(U,{index:t,band:r,key:t,setBands:n})})),o.a.createElement(B.a,{className:l.addBand},o.a.createElement(P,{addBand:t}),o.a.createElement(f.a,{variant:"contained",color:"default",startIcon:o.a.createElement(_.a,null),onClick:r},"Load Sample Bands")))},K={band1:{name:"Radiohead",image:"https://cdn.pitchfork.com/albums/6556/homepage_large.dddaf5bb.jpg",desc:"Radiohead were not only among the first bands to figure out how to use the Internet, but to make their music sound like it, and they kicked off this ridiculously retro decade with the rare album that didn\u2019t seem retro.",status:"available"},band2:{name:"Arcade Fire",image:"https://cdn4.pitchfork.com/albums/448/homepage_large.2099047d.jpg",desc:"Will there ever be another album like Funeral? Sounds silly considering the second half of this decade has seen plenty of bands establish nice careers by ripping off the communal euphoria that Arcade Fire made fresh after four years of rock records that boasted metropolitan chic, emotional austerity, or lyrical removal\u2013 the music was amazing...",status:"available"},band3:{name:"Daft Punk",image:"https://cdn.pitchfork.com/albums/2117/homepage_large.d23a880a.jpg",desc:"Daft Punk\u2019s first album had helped refresh house music in the mid 1990s; the second went further, rewriting electronic pop\u2019s pleasure principles to such a degree that when it came out a lot of people thought Discovery must be a put-on.",status:"available"},band4:{name:"Wilco",image:"https://cdn2.pitchfork.com/albums/8535/homepage_large.7aa808cd.jpg",desc:"Jeff Tweedy had allegedly been boning up on World War II while he wrote many of the songs that would become Yankee Hotel Foxtrot, an all too fitting lead-up to Wilco\u2019s well-documented battles with the record industry as well as within the band itself.",status:"available"},band5:{name:"Jay-Z",image:"https://cdn.pitchfork.com/albums/4168/homepage_large.c77499e7.jpg",desc:"When it comes to prophetic hip-hop album titles, Ready to Die was the most tragically accurate of the 1990s. This decade, The Blueprint was rap\u2019s supreme soothsayer: a grand layout too enamored with life to entertain fatalism.",status:"available"},band6:{name:"Modest Mouse",image:"https://cdn4.pitchfork.com/albums/5290/homepage_large.789479e8.jpg",desc:"The Moon & Antarctica is easily Modest Mouse\u2019s most ambitious album, a staggering leap in vision and scope from their previous records and a completely self-contained universe. Frontman Isaac Brock\u2019s worldview had always made room for a fair amount of existential loneliness and drugged madness, but from the opening moments of \u201c3rd Planet\u201d, all of those elements suddenly cohered into something serenely whole. ",status:"available"},band7:{name:"The Strokes",image:"https://cdn3.pitchfork.com/albums/7419/homepage_large.c1b895b7.jpg",desc:"The Strokes helped to keep alive the romantic notion of pre-Giuliani New York, before the Lower East Side became an amusement park and Times Square became Disneyland. At the time, these guys were na\xefve enough (and good-looking enough) to firmly believe they were the best band in the world; and for a moment, it actually came true.",status:"available"},band8:{name:"Sigur R\xf3s",image:"https://cdn.pitchfork.com/albums/7039/homepage_large.e17d9e74.jpg",desc:"They came from Iceland and Radiohead liked them. That\u2019s about all we knew back when \xc1g\xe6tis Byrjun first starting making its way around near the turn of the decade, but in those days, that was enough to get people intrigued. Discovering the music of Sigur R\xf3s was an active process, because a series of questions inevitably followed: How do you pronounce their name?",status:"available"},band9:{name:"Panda Bear",image:"https://cdn3.pitchfork.com/albums/9839/homepage_large.e2dd97fd.jpg",desc:"Person Pitch is the third solo album from Noah Lennox, yet it seems difficult to take measure of the album except as it relates to his regular work as a member of Animal Collective. (This is partially because Person Pitch was the first AC-related album to really lure some of their more skeptical listeners into the tent.).",status:"available"},band10:{name:"The Avalanches",image:"https://cdn.pitchfork.com/albums/381/homepage_large.cfca747e.jpg",desc:"Here\u2019s a curious album: It\u2019s constructed like a hip-hop record, it flows with the momentum of a great dance mix, but its component parts seem to come from strange places\u2013 musical soundtracks, oddball comedy routines, and easy-listening thrift-store pop from the 60s and 70s.",status:"available"}},X=t(151),$=t(152),ee=t(153),ae=t(154),te=t(155),ne=Object(d.a)({card:{margin:"20px"},media:{height:140}}),oe=function(e){var a=ne(),t=e.details,n=t.name,r=t.image,l=t.desc,i="available"===t.status;return o.a.createElement(X.a,{className:a.card},o.a.createElement($.a,null,o.a.createElement(ee.a,{component:"img",alt:n,height:"250",image:r,title:n}),o.a.createElement(ae.a,null,o.a.createElement(p.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),o.a.createElement(p.a,{variant:"body2",color:"textSecondary",component:"p"},l))),o.a.createElement(te.a,null,o.a.createElement(f.a,{size:"small",variant:"contained",color:"primary",type:"submit",disabled:!i,onClick:e.addToListing},i?"Add To Listing":"Sold Out")))},re=Object(j.a)({gigsApp:{background:"url(https://images.unsplash.com/photo-1528645944521-c061770de25d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1268&q=80)",display:"flex",justifyContent:"space-evenly",border:"5px solid",margin:"10px",borderRadius:"10px"},menu:{display:"flex",flexDirection:"column",width:"33%",padding:"20px",alignItems:"center"},listings:{display:"flex",flexDirection:"column",padding:"20px 40px 20px 0",width:"33%"},bookings:{display:"flex",justifyContent:"center",width:"33%"},bandList:{padding:"0 20px"}}),le=function(e){var a=Object(n.useState)({}),t=Object(k.a)(a,2),r=t[0],l=t[1],i=e.match.params.venueId,s=Object(n.useState)(JSON.parse(localStorage.getItem(i))||{}),c=Object(k.a)(s,2),m=c[0],d=c[1],u=re();return Object(n.useEffect)((function(){var e=G.syncState("".concat(i,"/bands"),{context:{setState:function(e){var a=e.bands;return l(Object(w.a)({},a))},state:{bands:r}},state:"bands"});return function(){G.removeBinding(e)}}),[]),Object(n.useEffect)((function(){console.log("localStorage"),localStorage.setItem(i,JSON.stringify(m))}),[m,i]),o.a.createElement("div",{className:u.gigsApp},o.a.createElement("div",{className:u.menu},o.a.createElement(O,null),o.a.createElement("ul",{className:u.bandList},Object.entries(r).map((function(e){var a=Object(k.a)(e,2),t=a[0],n=a[1];return o.a.createElement(oe,{key:t,details:n,addToListing:function(){return function(e){d(Object(w.a)({},m,Object(x.a)({},e,m[e]+1||1)))}(t)}})})))),o.a.createElement(D,{className:u.listings,bands:r,listing:m,removeFromListing:function(e){var a=Object(w.a)({},m);delete a[e],d(a)}}),o.a.createElement(Z,{className:u.bookings,addBand:function(e){var a=Object(w.a)({},r);a["band".concat(Date.now())]=e,l(a,e),G.post("".concat(i,"/bands"),{data:Object(w.a)({},a)})},loadSampleBands:function(){l(Object(w.a)({},r,{},K)),G.post("".concat(i,"/bands"),{data:Object(w.a)({},r,{},K)})},bands:r,venueId:i,setBands:l}))},ie=function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"Not Found!!!!!"))},se=function(){return o.a.createElement(c.a,null,o.a.createElement(m.c,null,o.a.createElement(m.a,{exact:!0,path:"/",component:E}),o.a.createElement(m.a,{path:"/venue/:venueId",component:le}),o.a.createElement(m.a,{component:ie})))},ce=t(158);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(s.a,null,o.a.createElement(o.a.StrictMode,null,o.a.createElement(i.a,null),o.a.createElement(ce.a,null,o.a.createElement(se,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},86:function(e,a,t){e.exports=t(110)},91:function(e,a,t){}},[[86,1,2]]]);
//# sourceMappingURL=main.fb4d9d6a.chunk.js.map